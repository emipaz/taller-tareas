{# 
  Fragmento: Lista de Tareas
  
  DescripciÃ³n:
    Template parcial que renderiza la lista de tareas del usuario.
    Se incluye en dashboard.html y puede ser actualizado dinÃ¡micamente
    mediante HTMX sin recargar la pÃ¡gina completa.
  
  Variables de contexto:
    - tareas (List[Tarea]): Lista de tareas a mostrar
  
  Uso:
    {% include "_tareas_fragment.html" %}
#}
<div class="tareas-fragment">
  <ul>
  {# Iterar sobre todas las tareas #}
  {% for tarea in tareas %}
    {# Cada tarea se muestra como un item de lista con enlace a detalles #}
    <li class="tarea-item">
      <div class="tarea-header">
        <strong class="tarea-titulo">
          <a href="/tareas/detalle/{{ tarea.nombre }}" class="tarea-link">
            ğŸ“‹ {{ tarea.nombre }}
          </a>
        </strong>
        {% if tarea.finalizada %}
        <span class="tarea-badge badge-finalizada">âœ“ Finalizada</span>
        {% else %}
        <span class="tarea-badge badge-activa">ğŸ”„ Activa</span>
        {% endif %}
      </div>
      <div class="desc">{{ tarea.descripcion }}</div>
      <div class="meta">
        <span>ğŸ“… {{ tarea.fecha_creacion }}</span>
        {% if tarea.usuarios_asignados %}
        <span>ğŸ‘¥ {{ tarea.usuarios_asignados|join(', ') }}</span>
        {% else %}
        <span style="color: #ff9800;">âš ï¸ Sin asignar</span>
        {% endif %}
        <span>ğŸ’¬ {{ tarea.comentarios|length }} comentario(s)</span>
      </div>
      <div class="tarea-actions">
        <a href="/tareas/detalle/{{ tarea.nombre }}" class="btn-ver-detalles">
          ğŸ” Ver Detalles
        </a>
      </div>
    </li>
  {% else %}
    {# Mensaje cuando no hay tareas #}
    <li class="no-tareas">ğŸ“­ No hay tareas aÃºn.</li>
  {% endfor %}
  </ul>
</div>
